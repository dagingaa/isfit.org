<%= javascript_include_tag :defaults %>
<style>
	.leftline {
		padding-left: 10px;
		margin-left: 2px;
		border-left: 4px solid #ccc;
	}
</style>
<h1><%= params[:id] ? "Edit" : "Create new" %> link</h1>
<% form_for :sublink, @sublink, :html=> { :multipart => true },
	:url => { :action => "create", 
	:id => params[:id]} do |f| %>

<h3>Choose category for sublink</h3>

<div class="leftline">
	
<!-- Category: <%#=select(:sublink, :tab_id, $categories.collect {|p| [p[0] ,p[1] ]})%> -->
Category: <%=select(:sublink, :tab_id, Tab.find(:all).collect {|p| [p.name_en.capitalize ,p.id ]})%>
</div>

<!-- OUT OF ORDER -->
<%#= observe_field("sublink_tab_id", :update => "sublink_subcategory",
:url => { :controller => "sublink", :action => "view_sublinks"}, :with => :tab_id)%>

<h3>Set text for link</h3>	
<table class="leftline">
	<tr>
		<td>
			English link title:
		</td>
		<td>
			<%= f.text_field :title_en,:size =>'40' %>
		</td>
		
	</tr>
	<tr>
		<td>
			Norwegian link tittel:
		</td>
		<td>
			<%= f.text_field :title_no,:size =>'40' %>
		</td>
	</tr>
</table>

<h3>Select order</h3>
<p>Order=0 puts the link first (to the left) and so on..</p>
<div class="leftline">
Order: <%=select(:sublink, :order, SublinkController.get_order($curr_cat))%>
</div>

<p><%= f.submit "Save link"%></p>

<h3>Additional options</h3>
<p>This is <strong>only</strong> if you want the link to redirect to some other place. Normally you can just ignore this field.</p>
<table class="leftline">
	<!-- her må en gjøre noe nytt i tabellen får å kunne linke til andre sublinks! -->
	<!-- <tr>
		<td>
			Internal link:
		</td>
		<td>
			<%#= f.text_field :url,:size =>'40' %>
			<%#=select(:sublink, :url, @links)%>
		</td>
	<tr> -->
	<tr>
		<td>
			External link:
		</td>
		<td>
			<%= f.text_field :external_url,:size =>'40'%>
		</td>
	</tr>
</table>
<% end %>
